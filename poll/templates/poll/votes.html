{% extends 'blog/base.html'%}
{% load humanize %}
<script type="text/javascript" src="jq.js"></script>
{% load static %}
<meta name="viewport" content="width=device-width, initial-scale=1">
<style type="text/css">
img:hover
{
  border:2px groove red;
  padding:2px;
  transition: 1s ease-out;
}
.nice
{
border: 2px solid orangered;

}
.myc
{
  padding: 7px;
  border:1px solid orangered;
  margin-top: 5px;
  width: 75%;
}
.t{border-radius: 50%;}
.card {
  box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2);
  transition: 0.3s;
  width: 5%;
  display: flex;
  flex-direction: row;
  flex-wrap: wrap;
}

.card:hover {
  box-shadow: 0 8px 16px 0 rgba(0,0,0,0.2);
}


</style>
{% block meta %}
    <title>{{data.question}} wallpair</title>
    
<meta name="description" content="{{data.question}} wallpair">
<meta name="keywords" content="{{data.question}} {{data.poller.username}} wallpair">
<meta property="og:title" content="{{data.question}} wallpair" />
<meta property="og:url" content="https://www.wallpair.com/votes/{{data.id}}" />
<meta property="og:type" content="{{data.typee}} categorie" />
<meta property="og:description" content="Total Reactions {{total}}" />
<meta property="og:image" content="{{data.image1.url}} " />
<script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
{% endblock meta %}

  {% block content %}
  <audio id="sound1" src="/static/blog/thor.mp3"></audio>
  <audio id="sound3" src="/static/blog/munna4.mp3"></audio>
{% if request.user.is_authenticated and request.user is not 'AnonymousUser'%}
    <span id="xox" style="visibility: hidden;font-size: 1px;">1</span>
    {% else %}
    <span id="xox" style="visibility: hidden;font-size: 1px;">0</span>
  {% endif %}
<a href="/login/" id="link"></a>
<audio id="sound2" src="/static/blog/chacha1.mp3"></audio>
    <!--
    {% if 'y' in data.typee %}
        <a href="/ycreate/" class="btn btn-outline-info" style="float:right;">Create My Own</a>
    {% elif 'mpost' in data.typee  %}
        <a href="/mycreate/" class="btn btn-outline-info" style="float:right;">Create My Own</a>
    {% elif 'reddit' in data.typee  %}
        <a href="/memes/" class="btn btn-outline-info" style="float:right;">Create My Own</a>
    {% else %}
    <a href="/create/" class="btn btn-outline-info" style="float:right;">Create My Own</a>

    {% endif %}
    -->
        <div   class="container-fluid" style="padding: 1px;width: 100%;margin-top: 5px;background-image: linear-gradient(to right, rgba(88,0,195,1), rgba(255,255,0,1));" >
            <span style="color:red;font-size: 16px;color: lightgreen;text-transform:capitalize;text-shadow: none;margin-top: -5px;"><a href ="/search/?user={{data.poller.username}}"  style="color:yellow;"><img src="{{data.poller.profile.image.url}}" width="50" height="45" style="border-radius: 50%;" class="mr-2"><b>{{data.poller.username}}</b></span></a>
        {% if data.kick is not 0 and data.tags_set.all.count is 1 %}
            <span style="color:white;font-size:12px;margin-left:10px;">collabed</span><span style="color:red;font-size: 16px;color: blue;text-transform:capitalize;text-shadow: none;margin-top: -5px;margin-left:75px;"><a href ="/search/?user={{data.tags_set.first.users.first.username}}" style="color:#5800c3;" ><img src="{{data.tags_set.first.users.first.profile.image.url}}" width="50" height="45" style="border-radius: 50%;" class="mr-2"><b>{{data.tags_set.first.users.first.username}}</b></span></a>
                
            {% endif %}
            
          <h4 style="text-align: center; font-family:inherit;text-transform: capitalize;color:yellow;background-color:#5800c3;padding:7px;">
            {{data.question}}

          </h4>
          <span id="qid" style="visibility: hidden;">{{data.id}}</span>
          <br>
       
          </a>
       <div style="display: flex;flex-direction: row;width: 100%;background-color:black;">

           {% if data.likes1_set.first.users.count > data.likes2_set.first.users.count %}
          <div class="card" style="width:100%;height:100%;border-bottom:4px solid #5800c3;border-radius:10%;background-color:black;" >
            {% else %}
            <div class="card" style="width:100%;height:100%;border-radius:10%;background-color:black;" >
            {% endif %}
              {% if 'y' in data.typee %}
              <img src="{{data.apppolls_set.first.image1}}" alt="Avatar" style="width:100%;border-radius:10%;border:2px solid yellow;max-height:400px;min-height:150px;"  id="img1">
              <h5 style="padding:8px;background-image: linear-gradient(to right, rgba(255,0,0,0), rgba(255,0,0,1));color:#5800c3;border-radius:5%;
                width:80%;color:yellow;text-align:center;">{{data.apppolls_set.first.channel1}}</h5>
              
               
             
              {% elif 'mpost' in data.typee %}
             
              <a href="{{data.apppolls_set.first.plink1}}"><img src="{{data.apppolls_set.first.image1}}" alt="Avatar" style="width:100%;border-radius:10%;border:2px solid yellow;max-height:400px;min-height:150px;"  id="img1"></a>
              <h5 style="padding:8px;background-image: linear-gradient(to right, rgba(255,0,0,0), rgba(255,0,0,1));color:#5800c3;border-radius:5%;
                width:80%;color:yellow;text-align:center;">{{data.apppolls_set.first.channel1}}</h5>
              
               
              

              {% elif 'reddit' in data.typee %}
              <img src="{{data.apppolls_set.first.image1}}" alt="Avatar" style="width:100%;width:100%;border-top-left-radius:10%;border-bottom-left-radius:10%;border:2px solid orange;max-height:400px;min-height:150px;"  id="img1" height="350">

              {% else %}
              <img src="{{data.image1.url}}" alt="Avatar" style="width:100%;border-radius:10%;border:2px solid yellow;max-height:400px;min-height:150px;"  id="img1">
             <!-- <h1>{{data.image1.height}} height</h1>-->
          {% endif %}
              <div style="display: flex;flex-direction: row;margin-top: 25px;poiner-events:auto;">
                <img src="{% static 'blog/bbbb.png'%}" class="img8" alt="like" height="48" width="55" id="like" style="pointer-events: auto;margin-left:50px;" >
                <a href="/pollinfo/{{data.id}}/l1" style="color:yellow;"><span id="l1d"  name="{{l1d}}" value="l1" style="font-size:20px;margin-left:2px;">{{data.likes1_set.first.users.count}}</span></a>
                <span style="color:green;font-size: 1px;" id="l1">{{ul1d}}}</span>
                <span style="visibility:hidden;">l1</span>


                <img src="{% static 'blog/ddd.png'%}" class="img9" alt="Avatar" style="margin-left: 5px;visibility:hidden;"   height="1" width="55" style="">

                <a href="/pollinfo/{{data.id}}/dl1" style="margin-left:2px;margin-right:10px;visibility:hidden;" ><span id="dl1d" style="font-size:20px;visibility:hidden;">{{data.dlikes1_set.first.users.count}}</span></div></a>
                <span style="font-size: 1px;" id="dl1" style="visibility:hidden;">{{udl1d}}}</span>
                <span style="visibility:hidden;">dl1</span>
              </div>

           {% if data.likes1_set.first.users.count < data.likes2_set.first.users.count %}
          <div class="card" style="width:100%;height:100%;border-bottom:4px solid #5800c3;border-radius:10%;background-color:black;margin-left:5px;" >
            {% else %}
            <div class="card" style="width:100%;height:100%;border-radius:10%;background-color:black;margin-left:5px;" >
            {% endif %}{% if 'y' in data.typee%}
              <img src="{{data.apppolls_set.first.image2}}" alt="Avatar" style="width:100%;border-radius:10%;border:2px solid yellow;max-height:400px;min-height:150px;"  id="img2">
              <h5 style="padding:8px;background-image: linear-gradient(to right, rgba(255,0,0,0), rgba(255,0,0,1));color:#5800c3;border-radius:5%;
                width:80%;color:yellow;text-align:center;">{{data.apppolls_set.first.channel2}}</h5>
           

              <!-- for individual video -->
              {% elif 'mpost' in data.typee %}
                
            <a href="{{data.apppolls_set.first.plink2}}"> 
            <img src="{{data.apppolls_set.first.image2}}" alt="Avatar" style="width:100%;border-radius:10%;border:2px solid #5800c3;max-height:400px;min-height:150px;"  id="img2"></a>
              <h5 style="padding:8px;background-image: linear-gradient(to right, rgba(255,0,0,0), rgba(255,0,0,1));color:#5800c3;border-radius:5%;
                width:80%;color:yellow;text-align:center;">{{data.apppolls_set.first.channel2}}</h5>
              
              

                {% elif 'reddit' in data.typee %}
              <img src="{{data.apppolls_set.first.image2}}" alt="Avatar" style="width:100%;width:100%;border-top-right-radius:10%;border-bottom-right-radius:10%;border:2px solid orange;max-height:400px;min-height:150px;"  id="img1">

              {% else %}
              <img src="{{data.image2.url}}" alt="Avatar" style="width:100%;border-radius:10%;border:2px solid #5800c3;max-height:400px;min-height:150px;"  id="img2">
              <!--<h1>{{data.image2.height}} height</h1>-->
          {% endif %}
              <div style="display: flex;flex-direction: row;margin-top: 25px;poiner-events:auto;">
                <img src="{% static 'blog/bbbb.png'%}" class="img10" alt="like"   height="48" width="55"   style="pointer-events: auto;margin-left:50px;">

                <a href="/pollinfo/{{data.id}}/l2" style="margin-left:2px;margin-right:10px;"><span id="l2d" style="font-size:20px;color:yellow;">{{data.likes2_set.first.users.count}}</span></a>
                <span style="font-size: 1px;" id="l2" >{{ul2d}}}</span>
                <span style="visibility:hidden;">l2</span>
                <img src="{% static 'blog/ddd.png'%}" alt="Avatar" class="img11"  height="48" width="55" style="visibility:hidden;" >


                <a href="/pollinfo/{{data.id}}/dl2" style="margin-left:2px;"><span id="dl2d" value={{dl2d}} style="font-size:20px;" style="visibility:hidden;">{{data.dlikes2_set.first.users.count}}</span></a>
                <span style="font-size: 1px;" id="dl2" style="">{{udl2d}}}</span>
                <span style="visibility:hidden;">dl2</span>
              </div>
              </div>
    
</div>
{% if 'mpost' in data.typee  %}
<div style="display:flex;flex-direction:column;width:100%;">
    <div style="width:100%;padding:5px;background-image: linear-gradient(to right, rgba(0,0,100,0), #5800c3);margin-top:5px;">
        <span style="font-size: 17px;color:yellow;margin-left: 5px;">{{data.apppolls_set.first.views1}}</span>
        <span style="font-size: 18px;color: white;margin-left: 30px;">Views</span>
        <span style="font-size: 17px;color: yellow;margin-left: 40px;">{{data.apppolls_set.first.views2}}</span>
    </div>
    <div style="width:100%;padding:5px;background-image: linear-gradient(to right, rgba(0,0,100,0), #5800c3);margin-top:5px;">
        <span style="font-size: 17px;color:yellow;margin-left: 5px;">{{data.apppolls_set.first.likes1}}</span>
        <span style="font-size: 18px;color: white;margin-left: 35px;">Likes</span>
        <span style="font-size: 17px;color: yellow;margin-left: 45px;">{{data.apppolls_set.first.likes2}}</span>
    </div>
    <div style="width:100%;padding:5px;background-image: linear-gradient(to right, rgba(0,0,100,0), #5800c3);margin-top:5px;">
        <span style="font-size: 17px;color:yellow;margin-left: 5px;">{{data.apppolls_set.first.subs1}}</span>
        <span style="font-size: 18px;color: white;margin-left: 30px;">Comments</span>
        <span style="font-size: 17px;color: yellow;margin-left: 40px;">{{data.apppolls_set.first.subs2}}</span>
    </div>

</div>
{% elif 'y' in data.typee %}
<div style="display:flex;flex-direction:column;width:100%;">
    <div style="width:100%;padding:5px;background-image: linear-gradient(to right, rgba(0,0,100,0), #5800c3);margin-top:5px;">
        <span style="font-size: 17px;color:yellow;margin-left: 5px;">{{data.apppolls_set.first.views1}}</span>
        <span style="font-size: 18px;color: white;margin-left: 85px;">Videos</span>
        <span style="font-size: 17px;color: yellow;margin-left: 55px;float:right;">{{data.apppolls_set.first.views2}}</span>
    </div>
    <div style="width:100%;padding:5px;background-image: linear-gradient(to right, rgba(0,0,100,0), #5800c3);margin-top:5px;">
        <span style="font-size: 17px;color:yellow;margin-left: 5px;">{{data.apppolls_set.first.likes1}}</span>
        <span style="font-size: 18px;color: white;margin-left: 35px;">Views</span>
        <span style="font-size: 17px;color: yellow;margin-left: 45px;float:right;">{{data.apppolls_set.first.likes2}}</span>
    </div>
    <div style="width:100%;padding:5px;background-image: linear-gradient(to right, rgba(0,0,100,0), #5800c3);margin-top:5px;">
        <span style="font-size: 17px;color:yellow;margin-left: 5px;">{{data.apppolls_set.first.subs1}}</span>
        <span style="font-size: 17px;color: white;margin-left: 30px;">Subscriber</span>
        <span style="font-size: 17px;color: yellow;margin-left: 40px;float:right;">{{data.apppolls_set.first.subs2}}</span>
    </div>

</div>
{% endif %}

           <input type="number" name="pk" value="{{data.id}}" style="visibility: hidden;width: 1%;" id="pk">
     <p style="color:seashell;">{{data.date_posted | naturaltime|capfirst}}
         </p>
         {% if 'y' in data.typee %}
         <img src="{% static 'blog/y.png' %}" width="50" height="50">
         {% endif %}
         {% if 'reddit' in data.typee %}
         <img src="{% static 'blog/reddit.png' %}" width="50" height="30">
         {% endif %}

         </div>
         <a href="whatsapp://send?text=https://wallpair.com/votes/{{data.id}}" data-action="share/whatsapp/share" onClick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=300,width=600');return false;" target="_blank" title="Share on whatsapp">
              <i class="fa fa-whatsapp fa-3x" style="pointer-events: auto;margin-left:10;color:white;"></i>
          </a>

    <i class="fa fa-copy fa-3x" style="pointer-events: auto;margin-left:100px;color:white;" onclick="alert('link is copied. you can share with your friends');copylink(this)";></i><span style="font-size:1px;" id="postid">wallpair.com/votes/{{data.id}}</span>

<a href="http://twitter.com/share?text={{data.question}}&url=https://wallpair.com/votes/{{data.id}}">
              <i class="fa fa-twitter fa-3x" style="float:right;pointer-events: auto;margin-right:5px;color:white;" ></i>
          </a>
         {% if data.poller == request.user%}
         <div style="display:flex;
         justify-content:center;">
             <a href="/update/{{data.id}}" class="btn btn-outline-warning">Update Post</a>
            <a  class="btn btn-outline-danger ml-3" onclick="check();"><span style="color:red;">Delete Post</span></a>
        </div>
        {% endif%}
        <form id="form" style="visibility: hidden;width: 2%;"  method="post" action="/delete/">
           {% csrf_token %}
              <input type="text" name="dlq" value="{{data.id}}">
              <input type="submit" name="" value="submit">
            </form>
         <form method="POST" action="{% url 'com' %}" onsubmit="return fun();">
          {% csrf_token %}
          <input type="number" name="qid" style="visibility: hidden;width: 1px;" value="{{data.id}}" id="qid">
          <input type="text" name="author" style="visibility: hidden;width: 1px;" value="{{request.user}}" id="author">

           <input type="text" name="content" placeholder="Add Comment" id ="ncontent" class="p-2 container" required style="border:1px solid yellow;" >
           <input type="submit" value="Comment" class="btn btn-outline-warning p-2">
         </form>

         <div  style="padding: 15px;width: 105%;margin-top: 8px;">
           <p style="text-align:center;color:yellow;font-size:16px;">Comments</p>
           {% if len == 0 %}
            <p style="color:orangered;text-transform: capitalize;">no comments yet ! be the first one to comment on this poll</p>
           {% endif %}
            {% for comment in comments %}
            {% if comment.parent is None %}
           <div style="padding: 10px;margin-top: 5px;">
             <span style="float: right;color:red;"><img src="{{comment.author.profile.image.url}}" width="30" class="t"><span class="ml-3">{{comment.author}}</span></span>
             <p style="font-size: 12px;font-weight: bold;text-transform: capitalize;font-family: sans-serif;color:deeppink;">{{comment.content}}</p>
             <p style="color:teal;">{{comment.date_posted | date:"F d, Y"}}</p>
             {% if comment.author == request.user %}
             <a href="/comupdate/{{comment.id}}" class="btn btn-outline-info">Update</a>
              <a  class="btn btn-outline-danger ml-3" onclick="checkme();" ><span style="color:red;">Delete</span></a>
              <form method="POST" action='/deletecom/' style="width:1%;visibility:hidden;" id="form1">
                  {% csrf_token %}
                    <input type="text" value="{{comment.id}}" name="com">
                    <input type="submit" value="submit">
                  </form>

             {% endif %}

                       <form method="post" action="/repcom/" >
              {% csrf_token %}
             <input type="text" name="content" placeholder="reply" class="p-1" style="border:1px solid green;" required id="contentt">
             <input type="text" name="author" value="{{request.user}}" style="visibility: hidden;width: 1%;">
             <input type="text" name="qid" value="{{data.id}}" style="visibility: hidden;width: 1%;">
             <input type="text" name="parent" value="{{comment.id}}" style="visibility: hidden;width: 1%;">
<center>
             <input type="submit" name="" value="reply" class="btn btn-outline-info"style="margin-left:-7px;border:1px solid #5800c3;padding:4px;width:30%;"></center>
           </form>
        {% if comment.comments_set.all.count is not 0 %}

             {% for com in comment.comments_set.all%}
             <div class="inside" style="margin-left: 15px;margin-top: 5px;">
               <span style="float: right;color:red;"><img src="{{com.author.profile.image.url}}" width="30" class="t"><span class="ml-3">{{com.author}}</span></span>
             <p style="font-size: 15px;font-weight: bold;text-transform: capitalize;font-family: sans-serif;color:deeppink;">{{com.content}}</p>
             <p style="color:teal;">{{com.date_posted | date:"F d, Y"}}</p>
            {% if com.author == request.user %}
             <a href="/comupdate/{{com.id}}" class="btn btn-outline-info">Update</a>
              <a  class="btn btn-outline-danger ml-3" onclick="checkme();">Delete</a>
              <form method="POST" action='/deletecom/' style="width:1%;visibility:hidden;" id="form1">
                  {% csrf_token %}
                    <input type="text" value="{{com.id}}" name="com">
                    <input type="submit" value="submit">
                  </form>

             {% endif %}

             </div>
             {% endfor %}
             {% endif %}


           </div>
  {% endif %}
  {%  endfor %}
         </div>
         <script src="{% static 'blog/votepage.js' %}"></script>
         <script>
         function fun()
         {
             
             var r = document.querySelector("#ncontent").value;
             console.log(document.querySelector("#ncontent").value);
             if (r=="chacha o")
             {
                 document.querySelector("#sound3").play();
                 setTimeout(function(){return true;}, 18000);
                 
             }
             else if(r=="kkh")
             {
                 document.querySelector("#sound2").play();
                 
                 
                 setTimeout(function(){return true; }, 10000);
             }
             return true;
             
         }
             function check()
            {
                var t = confirm('are you sure you want to delete this post?');
                console.log(t);
                if(t==1)
                {
                  document.querySelector("#form").submit();
                }

            }
              function checkme()
            {
                var t = confirm('are you sure you want to delete this comment?');
                console.log(t);
                if(t==1)
                {
                  document.querySelector("#form1").submit();
                }

            }
           function copylink(element) {
  var $temp = $("<input>");
  $("body").append($temp);
  $temp.val($(element).next().text()).select();
  document.execCommand("copy");
  $temp.remove();
}
         </script>

  {% endblock %}